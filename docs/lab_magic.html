<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Lab Magic</title>
</head>
  <body>
	<!--This draws the canvas on the webpage -->
    <canvas id="mycanvas"></canvas> 
  </body>
 
  <!-- Include the processing.js library -->
  <!-- See https://khanacademy.zendesk.com/hc/en-us/articles/202260404-What-parts-of-ProcessingJS-does-Khan-Academy-support- for differences -->
  <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script> 
  <script>
  var programCode = function(processingInstance) {
    with (processingInstance) {
      size(window.innerWidth-15, window.innerHeight-15); 
      frameRate(30);
        
      // Paste code from Khan Academy here:

      var scene = "orbs";

      var Orb = function(col,shape){
        this.color = col;
        this.shape = shape;
      };

      var CR = new Orb(color(255,0,0),"circle");
      var CG = new Orb(color(0,255,0),"circle");
      var CB = new Orb(color(0,0,255),"circle");

      Orb.prototype.draw = function(x,y){
        fill(this.color);
        switch(this.shape){
          case "circle":
            ellipse(x,y,50,50);
          break;
          case "square":
            rect(x-25,y-25,50,50);
          break;
          case "triangle":
            triangle(x,y-25,x-25,y+25,x+25,y+25);
          break;
        }
      };

      var Machine = function(slots){
        this.slots = slots;
      };


      var hotbar = [CR,CG,0,0,0,0,0,0];

      var inventory = [CR,CG];
      
      var machines = [];

      

      draw = function(){
        pushMatrix();
        background(255,255,255);
        translate(width/2-300,height/2-400);
        switch(scene){
          case "orbs":
            for(var i=0;i<hotbar.length;i++){
              fill(255,255,255);
              rect(75*i,0,75,75);
              if(hotbar[i] != 0){
                hotbar[i].draw(37.5+i*75,37.5);
              }
            }
          break;
        }
        popMatrix();
      };

    }};

  // Get the canvas that ProcessingJS will use
  var canvas = document.getElementById("mycanvas"); 
  // Pass the function to ProcessingJS constructor
  var processingInstance = new Processing(canvas, programCode); 
  </script>
</html>